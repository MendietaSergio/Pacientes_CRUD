(this.webpackJsonpconsumirapi=this.webpackJsonpconsumirapi||[]).push([[0],{21:function(e,t,a){},24:function(e,t,a){},41:function(e,t,a){},42:function(e,t,a){},64:function(e,t,a){},70:function(e,t,a){"use strict";a.r(t);var c=a(1),n=a.n(c),r=a(34),s=a.n(r),o=(a(41),a(4)),i=(a(42),a(43),a(14)),l=a.n(i),d=a(15),j=a(17),b=a(5),h=a(6),u=a(8),m=a(7),p=(a(24),a(21),a.p+"static/media/favicon.4fe75d5f.ico"),O="https://api.solodata.es/",f=a(13),x=a.n(f),v=a(0),g=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(b.a)(this,a),t.apply(this,arguments)}return Object(h.a)(a,[{key:"render",value:function(){return Object(v.jsx)("nav",{className:"container-fluid navbar navbar-dark bg-dark",children:Object(v.jsx)("div",{className:"container",children:Object(v.jsx)("a",{className:"navbar-brand",href:"/Dashboard",children:"Lista de Pacientes"})})})}}]),a}(n.a.Component),N=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(b.a)(this,a),t.apply(this,arguments)}return Object(h.a)(a,[{key:"render",value:function(){return Object(v.jsx)("footer",{className:"container-fluid page-footer font-small blue pt-4",children:Object(v.jsxs)("div",{className:"container text-center text-md-left",children:[Object(v.jsx)("div",{className:"row",children:Object(v.jsxs)("div",{className:"col-md-12 mt-md-0 mt-3",children:[Object(v.jsx)("h5",{className:"text-uppercase",children:"Footer Content"}),Object(v.jsx)("p",{children:"Here you can use rows and columns to organize your footer content."})]})}),Object(v.jsxs)("div",{className:"footer-copyright text-center py-3",children:[Object(v.jsx)("p",{children:"\xa9 2020 Copyright:"}),Object(v.jsx)("a",{href:"https://mdbootstrap.com/",children:" MDBootstrap.com"})]})]})})}}]),a}(n.a.Component),y=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var c;return Object(b.a)(this,a),(c=t.call(this,e)).state={form:{usuario:"",password:""},error:!1,errorMsg:"Error al intentar logear"},c.btnSubmit=function(e){e.preventDefault()},c.ingresoInput=function(){var e=Object(j.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.setState({form:Object(o.a)(Object(o.a)({},c.state.form),{},Object(d.a)({},t.target.name,t.target.value))});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),c.btnRedireccion=function(){x.a.post("https://api.solodata.es/auth",c.state.form).then((function(e){"ok"===e.data.status?(localStorage.setItem("token",e.data.result.token),c.props.history.push("/Dashboard")):c.setState({error:!0,errorMsg:e.data.result.error_msg})})).catch((function(e){console.log(e),c.setState({error:!0,errorMsg:"Error al conectar con la API"})}))},c}return Object(h.a)(a,[{key:"render",value:function(){return Object(v.jsxs)(n.a.Fragment,{children:[Object(v.jsx)(g,{}),Object(v.jsx)("div",{className:"wrapper fadeInDown",children:Object(v.jsxs)("div",{id:"formContent",children:[Object(v.jsx)("div",{className:"fadeIn first",children:Object(v.jsx)("img",{src:p,id:"icon",alt:"User Icon"})}),Object(v.jsxs)("form",{onSubmit:this.btnSubmit,children:[Object(v.jsx)("input",{type:"text",className:"fadeIn second",name:"usuario",placeholder:"login",onChange:this.ingresoInput}),Object(v.jsx)("input",{type:"password",className:"fadeIn third",name:"password",placeholder:"password",onChange:this.ingresoInput}),Object(v.jsx)("input",{type:"submit",className:"fadeIn fourth",value:"Log In",onClick:this.btnRedireccion}),Object(v.jsx)("a",{type:"button",href:"/Register",children:"Registrarse"})]}),!0===this.state.error&&Object(v.jsx)("div",{className:"alert alert-danger",role:"alert",children:this.state.errorMsg})]})}),Object(v.jsx)(N,{})]})}}]),a}(n.a.Component),I=a(35),C=a(2),k=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(b.a)(this,a);for(var c=arguments.length,n=new Array(c),r=0;r<c;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state={pacientes:[]},e}return Object(h.a)(a,[{key:"clickPaciente",value:function(e){this.props.history.push("/edit/"+e)}},{key:"componentDidMount",value:function(){var e=this;x.a.get("https://api.solodata.es/pacientes?page=1").then((function(t){e.setState({pacientes:t.data})}))}},{key:"render",value:function(){var e=this;return Object(v.jsxs)(n.a.Fragment,{children:[Object(v.jsx)(g,{}),Object(v.jsxs)("div",{className:"container ",children:[Object(v.jsx)("br",{}),Object(v.jsx)("br",{}),Object(v.jsxs)("table",{className:"table table-hover",children:[Object(v.jsx)("thead",{children:Object(v.jsxs)("tr",{children:[Object(v.jsx)("th",{scope:"col",children:"ID"}),Object(v.jsx)("th",{scope:"col",children:"DNI"}),Object(v.jsx)("th",{scope:"col",children:"Nombre"}),Object(v.jsx)("th",{scope:"col",children:"Telefono"}),Object(v.jsx)("th",{scope:"col",children:"Correo"})]})}),Object(v.jsx)("tbody",{children:this.state.pacientes.map((function(t,a){return Object(v.jsxs)("tr",{onClick:function(){return e.clickPaciente(t.PacienteId)},children:[Object(v.jsx)("td",{children:t.PacienteId}),Object(v.jsx)("td",{children:t.DNI}),Object(v.jsx)("td",{children:t.Nombre}),Object(v.jsx)("td",{children:t.Telefono}),Object(v.jsx)("td",{children:t.Correo})]},a)}))})]})]}),Object(v.jsx)(N,{})]})}}]),a}(n.a.Component),w=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(b.a)(this,a),t.apply(this,arguments)}return Object(h.a)(a,[{key:"render",value:function(){return Object(v.jsx)(n.a.Fragment,{})}}]),a}(n.a.Component),D=(a(64),function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(b.a)(this,a);for(var c=arguments.length,n=new Array(c),r=0;r<c;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state={form:{nombre:"",direccion:"",dni:"",correo:"",codigoPostal:"",genero:"",telefono:"",fechaNacimiento:"",token:"",pacienteId:""},error:!1,errorMsg:""},e.update=function(){console.log("Editado..."),x.a.put("https://api.solodata.es/pacientes",e.state.form).then((function(e){console.log(e)}))},e.delete=function(){var t=e.props.match.params.id,a={token:localStorage.getItem("token"),pacienteId:t};console.log(a),x.a.delete("https://api.solodata.es/pacientes",{headers:a}).then((function(t){e.props.history.push("/Dashboard")})).catch((function(e){console.log(e)}))},e.btnSubmit=function(e){e.preventDefault()},e.editInput=function(){var t=Object(j.a)(l.a.mark((function t(a){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({form:Object(o.a)(Object(o.a)({},e.state.form),{},Object(d.a)({},a.target.name,a.target.value))});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(h.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.id,a=O+"pacientes?id="+t;x.a.get(a).then((function(a){e.setState({form:{nombre:a.data[0].Nombre,direccion:a.data[0].Direccion,dni:a.data[0].DNI,correo:a.data[0].Correo,codigoPostal:a.data[0].CodigoPostal,genero:a.data[0].Genero,telefono:a.data[0].Telefono,fechaNacimiento:a.data[0].FechaNacimiento,token:localStorage.getItem("token"),pacienteId:t}})}))}},{key:"render",value:function(){var e=this;return Object(v.jsxs)(n.a.Fragment,{children:[Object(v.jsx)(g,{}),Object(v.jsxs)("div",{className:"container",children:[Object(v.jsx)("h3",{className:"m-5",children:"Editar paciente"}),Object(v.jsxs)("form",{className:"form-horizontal",onSubmit:this.btnSubmit,children:[Object(v.jsx)("div",{className:"row",children:Object(v.jsxs)("div",{className:"col-sm-12",children:[Object(v.jsx)("label",{className:"col-md-2 control-label",children:"Nombre"}),Object(v.jsx)("div",{className:"col-md-10",children:Object(v.jsx)("input",{className:"form-control",name:"nombre",placeholder:"Nombre",type:"text",value:this.state.form.nombre,onChange:this.editInput})})]})}),Object(v.jsx)("div",{className:"row",children:Object(v.jsxs)("div",{className:"col-sm-12",children:[Object(v.jsx)("label",{className:"col-md-2 control-label",children:"Direccion"}),Object(v.jsx)("div",{className:"col-md-10",children:Object(v.jsx)("input",{className:"form-control",name:"direccion",placeholder:"Direccion",type:"text",value:this.state.form.direccion,onChange:this.editInput})})]})}),Object(v.jsxs)("div",{className:"row",children:[Object(v.jsxs)("div",{className:"col-sm-6",children:[Object(v.jsx)("label",{className:"col-md-2 control-label",children:"DNI"}),Object(v.jsx)("div",{className:"col-md-8",children:Object(v.jsx)("input",{className:"form-control",name:"dni",placeholder:"DNI",type:"text",value:this.state.form.dni,onChange:this.editInput})})]}),Object(v.jsxs)("div",{className:"col-sm-6",children:[Object(v.jsx)("label",{className:"col-md-2 control-label",children:"Telefono"}),Object(v.jsx)("div",{className:"col-md-8",children:Object(v.jsx)("input",{className:"form-control",name:"telefono",placeholder:"Telefono",type:"text",value:this.state.form.telefono,onChange:this.editInput})})]})]}),Object(v.jsxs)("div",{className:"row",children:[Object(v.jsxs)("div",{className:"col-sm-6",children:[Object(v.jsx)("label",{className:"col-md-2 control-label",children:"C\xf3digo postal"}),Object(v.jsx)("div",{className:"col-md-8",children:Object(v.jsx)("input",{className:"form-control",name:"codigoPostal",placeholder:"C\xf3digo postal",type:"text",value:this.state.form.codigoPostal,onChange:this.editInput})})]}),Object(v.jsxs)("div",{className:"col-sm-6",children:[Object(v.jsx)("label",{className:"col-md-2 control-label",children:"Fecha de nacimiento"}),Object(v.jsx)("div",{className:"col-md-8",children:Object(v.jsx)("input",{className:"form-control",name:"fechaNacimiento",placeholder:"Fecha de nacimiento",type:"text",value:this.state.form.fechaNacimiento,onChange:this.editInput})})]})]}),Object(v.jsxs)("div",{className:"row",children:[Object(v.jsxs)("div",{className:"col-sm-6",children:[Object(v.jsx)("label",{className:"col-md-2 control-label",children:"Genero"}),Object(v.jsx)("div",{className:"col-md-8",children:Object(v.jsx)("input",{className:"form-control",name:"genero",placeholder:"Genero",type:"text",value:this.state.form.genero,onChange:this.editInput})})]}),Object(v.jsxs)("div",{className:"col-sm-6",children:[Object(v.jsx)("label",{className:"col-md-2 control-label",children:"Correo"}),Object(v.jsx)("div",{className:"col-md-8",children:Object(v.jsx)("input",{className:"form-control",name:"correo",placeholder:"Correo",type:"text",value:this.state.form.correo,onChange:this.editInput})})]})]}),Object(v.jsxs)("div",{className:"botones",children:[Object(v.jsx)("button",{type:"submit",className:"btn btn-primary",onClick:function(){return e.update()},children:"Editar"}),Object(v.jsx)("button",{type:"submit",className:"btn btn-danger",onClick:function(){return e.delete()},children:"Eliminar"}),Object(v.jsx)("a",{className:"btn btn-dark",href:"/Dashboard",children:"Salir"})]})]})]}),Object(v.jsx)(N,{})]})}}]),a}(n.a.Component)),S=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var c;return Object(b.a)(this,a),(c=t.call(this,e)).state={form:{userName:"",password:""},error:!1,errorMsg:"Error al intentar logear"},c.btnSubmit=function(e){e.preventDefault()},c.ingresoInput=function(){var e=Object(j.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t.target.value),e.next=3,c.setState({form:Object(o.a)(Object(o.a)({},c.state.form),{},Object(d.a)({},t.target.name,t.target.value))});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),c.btnRedireccion=function(){console.log(c.state.form),x.a.post("http://104.236.219.24:4000/#/auth",c.state.form).then((function(e){console.log(e.config.data),c.props.history.push("/")})).catch((function(e){console.log(e)}))},c}return Object(h.a)(a,[{key:"render",value:function(){return Object(v.jsxs)(n.a.Fragment,{children:[Object(v.jsx)(g,{}),Object(v.jsx)("div",{className:"wrapper fadeInDown",children:Object(v.jsxs)("div",{id:"formContent",children:[Object(v.jsx)("div",{className:"fadeIn first",children:Object(v.jsx)("img",{src:p,id:"icon",alt:"User Icon"})}),Object(v.jsxs)("form",{onSubmit:this.btnSubmit,children:[Object(v.jsx)("input",{type:"text",className:"fadeIn second",name:"userName",placeholder:"userName",onChange:this.ingresoInput}),Object(v.jsx)("input",{type:"password",className:"fadeIn third",name:"password",placeholder:"password",onChange:this.ingresoInput}),Object(v.jsx)("input",{type:"submit",className:"fadeIn fourth",value:"registrarse",onClick:this.btnRedireccion})]})]})}),Object(v.jsx)(N,{})]})}}]),a}(n.a.Component);var P=function(){return Object(v.jsx)(n.a.Fragment,{children:Object(v.jsx)(I.a,{basename:"/",children:Object(v.jsxs)(C.c,{children:[Object(v.jsx)(C.a,{path:"/",exact:!0,render:function(e){return Object(v.jsx)(y,Object(o.a)({},e))}}),Object(v.jsx)(C.a,{path:"/Dashboard",exact:!0,render:function(e){return Object(v.jsx)(k,Object(o.a)({},e))}}),Object(v.jsx)(C.a,{path:"/New",exact:!0,render:function(e){return Object(v.jsx)(w,Object(o.a)({},e))}}),Object(v.jsx)(C.a,{path:"/Edit/:id",exact:!0,render:function(e){return Object(v.jsx)(D,Object(o.a)({},e))}}),Object(v.jsx)(C.a,{path:"/Register",exact:!0,render:function(e){return Object(v.jsx)(S,Object(o.a)({},e))}})]})})})};s.a.render(Object(v.jsx)(n.a.StrictMode,{children:Object(v.jsx)(P,{})}),document.getElementById("root"))}},[[70,1,2]]]);
//# sourceMappingURL=main.1b840105.chunk.js.map